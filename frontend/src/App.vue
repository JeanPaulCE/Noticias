<script setup>
import { ref, onMounted } from "vue";
import Footer from "./layouts/Footer.vue";
import Header from "./layouts/Header.vue";
import fetchAPI from "./helpers/fetchAPI";
import isMobile from "./helpers/isMobile";

const news = ref([]);
const mobile = ref(isMobile());

onMounted(() => {
  fetchAPI("/news").then((data) => {
    news.value = data;
  });
});
</script>

<template>
  <Header :news="news" />
  <main class="container-fluid p-0 text-white">
    <!-- <div> -->
    <router-view :news="news"></router-view>
    <!-- </div> -->
  </main>
  <div class="end position-fixed w-100 bottom-0" v-if="mobile">
    <div class="col">
      <ul class="navbar-sc row">
        <li class="sc-item col justify-content-center">
          <svg
            width="29"
            height="26"
            viewBox="0 0 29 26"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M2.82861 23.1724V10.9197H4.71365V23.1724C4.71365 23.4224 4.81296 23.6621 4.98971 23.8389C5.16647 24.0156 5.4062 24.1149 5.65618 24.1149H22.6216C22.8715 24.1149 23.1113 24.0156 23.288 23.8389C23.4648 23.6621 23.5641 23.4224 23.5641 23.1724V10.9197H25.4491V23.1724C25.4491 23.9223 25.1512 24.6415 24.6209 25.1718C24.0907 25.7021 23.3715 26 22.6216 26H5.65618C4.90626 26 4.18706 25.7021 3.65679 25.1718C3.12652 24.6415 2.82861 23.9223 2.82861 23.1724V23.1724ZM23.5641 2.43697V9.03461L19.794 5.26453V2.43697C19.794 2.18699 19.8933 1.94726 20.07 1.7705C20.2468 1.59375 20.4865 1.49445 20.7365 1.49445H22.6216C22.8715 1.49445 23.1113 1.59375 23.288 1.7705C23.4648 1.94726 23.5641 2.18699 23.5641 2.43697Z"
              fill="white"
            />
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M12.8063 0.551915C13.1598 0.198524 13.6392 0 14.139 0C14.6388 0 15.1182 0.198524 15.4717 0.551915L28.0016 13.0799C28.1786 13.2569 28.278 13.4969 28.278 13.7472C28.278 13.9975 28.1786 14.2375 28.0016 14.4145C27.8246 14.5915 27.5846 14.6909 27.3343 14.6909C27.084 14.6909 26.844 14.5915 26.667 14.4145L14.139 1.88464L1.61102 14.4145C1.43404 14.5915 1.194 14.6909 0.943711 14.6909C0.693423 14.6909 0.453387 14.5915 0.276407 14.4145C0.0994265 14.2375 0 13.9975 0 13.7472C0 13.4969 0.0994265 13.2569 0.276407 13.0799L12.8063 0.551915Z"
              fill="white"
            />
          </svg>

          <router-link class="link row" to="/">Inicio</router-link>
        </li>
        <li class="sc-item col justify-content-center">
          <svg
            width="31"
            height="26"
            viewBox="0 0 31 26"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <g id="Group 9">
              <g id="Group 21">
                <path
                  id="Vector"
                  d="M27.4249 2.13542C27.6757 2.13542 27.9162 2.24791 28.0936 2.44814C28.2709 2.64838 28.3705 2.91995 28.3705 3.20313V22.4219C28.3705 22.705 28.2709 22.9766 28.0936 23.1769C27.9162 23.3771 27.6757 23.4896 27.4249 23.4896H2.83705C2.58624 23.4896 2.3457 23.3771 2.16835 23.1769C1.991 22.9766 1.89137 22.705 1.89137 22.4219V3.20313C1.89137 2.91995 1.991 2.64838 2.16835 2.44814C2.3457 2.24791 2.58624 2.13542 2.83705 2.13542H27.4249ZM2.83705 0C2.08462 0 1.363 0.337471 0.830954 0.938174C0.298903 1.53888 0 2.3536 0 3.20313L0 22.4219C0 23.2714 0.298903 24.0861 0.830954 24.6868C1.363 25.2875 2.08462 25.625 2.83705 25.625H27.4249C28.1773 25.625 28.8989 25.2875 29.431 24.6868C29.963 24.0861 30.2619 23.2714 30.2619 22.4219V3.20313C30.2619 2.3536 29.963 1.53888 29.431 0.938174C28.8989 0.337471 28.1773 0 27.4249 0H2.83705Z"
                  fill="white"
                />
                <path
                  id="Vector_2"
                  d="M5.67407 7.47396C5.67407 7.19078 5.77371 6.91921 5.95106 6.71897C6.12841 6.51874 6.36895 6.40625 6.61976 6.40625H23.6421C23.8929 6.40625 24.1334 6.51874 24.3108 6.71897C24.4881 6.91921 24.5878 7.19078 24.5878 7.47396C24.5878 7.75713 24.4881 8.02871 24.3108 8.22894C24.1334 8.42918 23.8929 8.54167 23.6421 8.54167H6.61976C6.36895 8.54167 6.12841 8.42918 5.95106 8.22894C5.77371 8.02871 5.67407 7.75713 5.67407 7.47396ZM5.67407 12.8125C5.67407 12.5293 5.77371 12.2578 5.95106 12.0575C6.12841 11.8573 6.36895 11.7448 6.61976 11.7448H23.6421C23.8929 11.7448 24.1334 11.8573 24.3108 12.0575C24.4881 12.2578 24.5878 12.5293 24.5878 12.8125C24.5878 13.0957 24.4881 13.3673 24.3108 13.5675C24.1334 13.7677 23.8929 13.8802 23.6421 13.8802H6.61976C6.36895 13.8802 6.12841 13.7677 5.95106 13.5675C5.77371 13.3673 5.67407 13.0957 5.67407 12.8125ZM5.67407 18.151C5.67407 17.8679 5.77371 17.5963 5.95106 17.3961C6.12841 17.1958 6.36895 17.0833 6.61976 17.0833H17.968C18.2188 17.0833 18.4593 17.1958 18.6367 17.3961C18.814 17.5963 18.9137 17.8679 18.9137 18.151C18.9137 18.4342 18.814 18.7058 18.6367 18.906C18.4593 19.1063 18.2188 19.2188 17.968 19.2188H6.61976C6.36895 19.2188 6.12841 19.1063 5.95106 18.906C5.77371 18.7058 5.67407 18.4342 5.67407 18.151Z"
                  fill="white"
                />
              </g>
            </g>
          </svg>

          <router-link class="link row" to="/noticias">Noticias</router-link>
        </li>
        <li class="sc-item col justify-content-center">
          <svg
            width="27"
            height="26"
            viewBox="0 0 27 26"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M18.5625 9.75C18.5625 11.0429 18.0291 12.2829 17.0797 13.1971C16.1303 14.1114 14.8427 14.625 13.5 14.625C12.1573 14.625 10.8697 14.1114 9.92027 13.1971C8.97087 12.2829 8.4375 11.0429 8.4375 9.75C8.4375 8.45707 8.97087 7.21709 9.92027 6.30285C10.8697 5.38861 12.1573 4.875 13.5 4.875C14.8427 4.875 16.1303 5.38861 17.0797 6.30285C18.0291 7.21709 18.5625 8.45707 18.5625 9.75V9.75Z"
              fill="white"
            />
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M0 13C0 9.55219 1.42232 6.24558 3.95406 3.80761C6.4858 1.36964 9.91958 0 13.5 0C17.0804 0 20.5142 1.36964 23.0459 3.80761C25.5777 6.24558 27 9.55219 27 13C27 16.4478 25.5777 19.7544 23.0459 22.1924C20.5142 24.6304 17.0804 26 13.5 26C9.91958 26 6.4858 24.6304 3.95406 22.1924C1.42232 19.7544 0 16.4478 0 13V13ZM13.5 1.625C11.2755 1.62511 9.09624 2.23009 7.21305 3.3703C5.32987 4.5105 3.81929 6.13959 2.85519 8.07006C1.89109 10.0005 1.51265 12.1539 1.76343 14.2824C2.01422 16.4108 2.88403 18.4278 4.27275 20.1012C5.47088 18.2422 8.10844 16.25 13.5 16.25C18.8916 16.25 21.5274 18.2406 22.7273 20.1012C24.116 18.4278 24.9858 16.4108 25.2366 14.2824C25.4873 12.1539 25.1089 10.0005 24.1448 8.07006C23.1807 6.13959 21.6701 4.5105 19.7869 3.3703C17.9038 2.23009 15.7245 1.62511 13.5 1.625V1.625Z"
              fill="white"
            />
          </svg>

          <router-link class="link row" to="/admin-perfil">Perfil</router-link>
        </li>
      </ul>
    </div>
  </div>

  <Footer />
</template>

<style lang="scss" scoped>
@use "./assets/sass/spacing";

main {
  div {
    display: flex;
    flex-direction: column;
    gap: spacing.$spacer;
  }
}
.end {
  z-index: 2;
  div {
    display: block;
    background: #000;
    padding: calc(calc(spacing.$spacer/2) / 2) calc(spacing.$spacer/2);
    .navbar-sc {
      padding: 0;
      margin: 0;
      .sc-item {
        text-align: center;
        svg {
          color: #fff;
          margin: auto;
        }
        a {
          color: #fff;
          display: inline-block;
          text-decoration: none;
          font-size: 1rem;
          width: 100%;
        }

        padding: 0.4rem;
      }
    }
  }
}
</style>
